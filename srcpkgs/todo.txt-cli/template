# Template file for 'todo.txt-cli'
pkgname=todo.txt-cli
version=2.11.0
revision=1
depends="bash"
short_desc="Simple and extensible shell script for managing your todo.txt file"
maintainer="Dominic Monroe <monroef4@googlemail.com>"
license="GPL-3.0-or-later"
homepage="http://todotxt.org"
distfiles="https://github.com/todotxt/todo.txt-cli/archive/v${version}.tar.gz"
checksum=95c7e10c3b7d161272b70edfcfee3cea9a888812ca82c26343143dd8a81e5176

do_build() {
	# Adapted from the official Makefile
	sed -i "s/^\(export[ \t]*TODO_DIR=\).*/\1~\/.todo/" todo.cfg
}

do_install() {
	vbin todo.sh
	vinstall todo_completion 644 /usr/share/bash-completion/completions todo
	vinstall todo.cfg 644 etc/todo config
}
